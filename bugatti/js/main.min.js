const burgerBtn=document.querySelector(".burger-btn"),menu=document.querySelector(".menu"),body=document.querySelector(".body"),btnModal=document.querySelectorAll("[data-modal-btn]"),btnToggler=document.querySelectorAll(".system__toggler"),settingDelete=document.querySelectorAll(".setting__delete"),btnMore=document.querySelector(".btn-more"),heroDropdown=document.querySelector(".hero-side__dropdown"),heroSideMore=document.querySelector(".hero-side__more"),heroSideBox=document.querySelector(".hero-side"),heroLeft=document.querySelector(".hero__left"),modalBack=document.querySelector(".modal__back"),menuNav=document.querySelector(".menu__nav"),settingSidebar=document.querySelector(".setting__sidebar"),tabs=document.querySelectorAll(".setting__btn"),tabsItem=document.querySelectorAll(".setting__tab"),btnStep=document.querySelectorAll("[data-step]"),grade=document.querySelector("#grade"),heroMode=document.querySelectorAll(".hero__mode"),btnChart=document.querySelector("[data-chart]");function removeActiveClass(){heroMode.forEach(e=>{e.classList.remove("hero__mode--active")})}function getCoords(e){e=e.getBoundingClientRect();return{top:e.top+window.pageYOffset,right:e.right+window.pageXOffset,bottom:e.bottom+window.pageYOffset,left:e.left+window.pageXOffset}}function removeClass(){tabs.forEach(e=>{e.classList.remove("setting__btn--active")})}function getItem(){tabsItem.forEach(e=>{e.classList.remove("setting__tab--active")})}function addElemet(){innerWidth<=768?menuNav.insertAdjacentElement("beforeBegin",heroSideBox):heroLeft.append(heroSideBox)}btnChart.addEventListener("click",function(e){e.preventDefault(),this.classList.toggle("nav__link--active"),document.querySelector(".hero__list").classList.toggle("hidden"),document.querySelector(".chart").classList.toggle("hidden")}),heroMode.forEach(e=>{e.addEventListener("click",function(){removeActiveClass(),e.classList.toggle("hero__mode--active"),e.classList.contains("hero__mode--active")&&e.classList.contains("hero__mode--switch")&&(e.querySelector(".hero__mode-name").innerHTML="Включен",document.querySelector("#switch-status").checked=!0),e.classList.contains("hero__mode--active")&&!e.classList.contains("hero__mode--switch")&&(document.querySelector(".hero__mode--switch .hero__mode-name").innerHTML="Выключен",document.querySelector("#switch-status").checked=!1)})}),btnStep.forEach(e=>{e.addEventListener("click",function(e){let t=e.target,o=Number(grade.innerText);"plus"==t.getAttribute("data-step")&&(o+=.5),"minus"==t.getAttribute("data-step")&&(o-=.5),grade.innerHTML=o})}),btnMore.addEventListener("click",function(e){return heroDropdown.classList.toggle("hero-side__dropdown--visible"),window.innerWidth<=getCoords(heroSideMore).left+heroDropdown.getBoundingClientRect().width?(heroDropdown.style.top=getCoords(heroSideMore).top+30+"px",void(heroDropdown.style.left="10px")):(heroDropdown.style.top=getCoords(heroSideMore).top+35+"px",void(heroDropdown.style.left=getCoords(heroSideMore).left+"px"))}),btnModal.forEach(s=>{s.addEventListener("click",function(e){var t=s.getAttribute("data-modal-btn");const o=document.querySelector(`.modal[data-modal="${t}"]`);o.classList.add("modal--visible"),body.classList.add("body--hidden"),o.addEventListener("click",function(e){"modal__btn"!=e.target.classList&&"modal"!=e.target.classList[0]||(o.classList.remove("modal--visible"),body.classList.remove("body--hidden"))})})}),btnToggler.forEach(o=>{o.addEventListener("click",function(e){const t=o.querySelector(".system__toggle");this.classList.toggle("system__toggler--active"),this.nextElementSibling.classList.toggle("hidden"),this.classList.contains("system__toggler--active")?t.innerHTML="Вкл":t.innerHTML="Выкл"})}),settingDelete.forEach(e=>{e.addEventListener("click",function(){this.parentNode.classList.toggle("hidden")})}),burgerBtn.addEventListener("click",function(){this.classList.toggle("burger-btn--active"),menu.classList.toggle("menu--visible"),body.classList.toggle("body--hidden")}),menu.addEventListener("click",function(e){"modal__btn"!=e.target.classList&&"menu"!=e.target.classList[0]||(menu.classList.remove("menu--visible"),burgerBtn.classList.remove("burger-btn--active"),body.classList.remove("body--hidden"))}),tabs.forEach(t=>{t.addEventListener("click",e=>{e.preventDefault();e=t.getAttribute("href");removeClass(),getItem(),settingSidebar.classList.toggle("setting__sidebar--visible"),modalBack.classList.toggle("modal__back--visible"),t.classList.add("setting__btn--active"),document.querySelector(e).classList.add("setting__tab--active")})}),modalBack.addEventListener("click",function(){this.classList.add("modal__back--visible"),settingSidebar.classList.remove("setting__sidebar--visible")}),addElemet(),window.addEventListener("resize",function(e){addElemet()});