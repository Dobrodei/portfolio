htmlEl={tabsBtn:document.querySelectorAll(".tabs__nav-btn"),btnBack:document.querySelectorAll(".widget__remove")},htmlEl.tabsBtn.forEach(e=>{e.addEventListener("click",e=>{const r=e.target;e=r.dataset.tab;htmlEl.tabsBtn.forEach(e=>e.classList.remove("tabs__nav-btn--active")),document.querySelectorAll(".tabs__panel").forEach(e=>e.classList.remove("tabs__panel--visible")),document.querySelector(`.tabs__panel[data-tabBox="${e}"]`).classList.add("tabs__panel--visible"),r.classList.add("tabs__nav-btn--active")})});const selectPrice=new Choices(".widget__select",{searchEnabled:!1,itemSelectText:""}),widgetSwiper=new Swiper(".widget__slider",{slidesPerView:1,allowTouchMove:!1,spaceBetween:10,effect:"fade",fadeEffect:{crossFade:!0}});htmlEl.btnBack.forEach(e=>{e.addEventListener("click",()=>{var e=widgetSwiper.slides.findIndex(e=>e.classList.contains("swiper-slide-prev"));widgetSwiper.slideTo(e)})});const formStart=new JustValidate('.widget__form[data-form="start"]');formStart.addField(".input-fullname",[{rule:"required",errorMessage:"Введите Имя и Фамилию"},{rule:"customRegexp",value:/^[A-Za-zА-Яа-я]+(\s[A-Za-zА-Яа-я]+)?$/,errorMessage:"Некорректно введены данные"},{rule:"maxLength",value:150,errorMessage:"Введено максимальное кол-во символов"}]).addField(".input-email",[{rule:"required",errorMessage:"Введите E-mail"},{rule:"email",errorMessage:"Неверный E-mail"}]).addField(".input-phone",[{rule:"required",errorMessage:"Введите номер телефона"},{rule:"customRegexp",value:/^(\+\d{1,3}[- ]?)?\d{10}$/,errorMessage:"Некорректно введены данные"}]).onSuccess(e=>{console.log("slider",widgetSwiper);const r=e.srcElement.querySelector('input[type="radio"]:checked').value;e=widgetSwiper.slides.findIndex(e=>e.dataset.slide==r);widgetSwiper.slideTo(e)});const formCard=new JustValidate(".form-card");formCard.addField(".pay-input-card",[{rule:"required",errorMessage:"Пустое поле"},{validator:(e,r)=>{const a=e.replace(/[\s-]/g,""),t=r[".pay-input-card"].elem,s=a.replace(/(.{4})/g,"$1 ").trimRight();t.value=s;if(a.length<16)return!1;{t.value=a.slice(0,16);const s=a.replace(/(.{4})/g,"$1 ").trimRight();t.value=s}return!0},errorMessage:"Неверное значение"}]).addField(".pay-input-month",[{rule:"required",errorMessage:"Пустое поле"},{validator:(e,r)=>{if(!/^\d{2}$/.test(e))return console.log("1"),!1;e=parseInt(e);return!(e<1||12<e)},errorMessage:"от 01 до 12"}]).addField(".pay-input-year",[{rule:"required",errorMessage:"Пустое поле"},{rule:"number",errorMessage:"Только числа"},{validator:(e,r)=>{var a=e;if(!/^\d{2}$/.test(a))return console.log("1"),!1;e=parseInt((new Date).getFullYear().toString().slice(-2)),a=parseInt(a);return console.log("yaer",a),console.log("curyaer",e),!(a<e)||(console.log("2"),!1)},errorMessage:"Истек срок карты"}]).addField(".pay-input-cvc",[{rule:"customRegexp",value:/^\d{3}$/,errorMessage:"3-и цифры"},{rule:"required",errorMessage:"Пустое поле"}]).addField(".pay-input-user",[{rule:"customRegexp",value:/^[a-zA-Zа-яА-ЯёЁ\s]+$/,errorMessage:"Только буквы"},{rule:"required",errorMessage:"Пустое поле"}]).onValidate(e=>{e.fields[".pay-input-month"],e.fields[".pay-input-year"]}).onSuccess(e=>{window.location.href="https://prosto.cards/thanks.html"});